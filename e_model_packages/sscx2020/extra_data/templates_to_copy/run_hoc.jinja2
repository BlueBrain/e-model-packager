/*
Copyright (c) BBP/EPFL 2021.
This work is licenced under Creative Common CC BY-NC-SA-4.0 (https://creativecommons.org/licenses/by-nc-sa/4.0/)
*/

load_file("nrngui.hoc")
load_file("createsimulation.hoc")

// By default, disable the step currents
strdef stepcurrent
stepcurrent = "none"

// Set up simulation
create_cell()
create_recording()

{%- if step_stimulus %}
read_currents()
for i_step=1,3 {
    print "Simulation current step ", i_step
    create_stimulus(i_step)
    simulate()
    save_recording(i_step)
}
{%- else %}
print "Simulation running "
create_stimulus(0)
simulate()
save_recording(0)
{%- endif %}


